{"version":3,"file":"dynamic.min.js","mappings":"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","sources":["webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///../utils/generic.ts","webpack:///../utils/element.ts","webpack:///./src/utils/data.ts","webpack:///./src/libs/cycle.ts","webpack:///./src/utils/misc.ts","webpack:///./src/app.ts","webpack:///../utils/arguments.ts","webpack:///./src/spa.ts","webpack:///./src/manifest.ts","webpack:///./src/dynamic.export.ts","webpack:///./src/dynamic.defineGlobal.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\nexport function randoma2Z(length :number) :string{ //52\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 52);\r\n        if(r > 25) s += String.fromCharCode(r + 71);\r\n        else s += String.fromCharCode(r + 65);\r\n    }\r\n    return s;\r\n}\r\nexport function randoma2z029(length :number) :string{ //36\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 36);\r\n        if(r < 10) s += r;\r\n        else s += String.fromCharCode(r + 87);\r\n    }\r\n    return s;\r\n}\r\nexport function precisePop<T>(ele :T, array :any[]) :T | null{\r\n    if(array.indexOf(ele) === -1) return null;\r\n    return array.splice(array.indexOf(ele), 1)[0];\r\n}\r\n//递归冻结对象\r\nexport function constantize(obj :anyObject) :void{\r\n    Object.freeze(obj);\r\n    for(let i = 0; i < Object.keys(obj).length; i++) if(typeof obj[Object.keys(obj)[i]] == \"object\") constantize(obj[Object.keys(obj)[i]]);\r\n}\r\nexport function E(argument :string, type? :string, value? :any, reason? :string) :never{\r\n    if(argument === undefined) throw new Error(\"An error occured.\");\r\n    else{\r\n        console.error(\"ERROR INFO: argument\", argument, \",type\", type, \",value\", value, \",reason\", reason); //为了拿到真正的value，其他类型toString后啥信息都没了\r\n        throw new Error(`Argument '${argument}' ${type ? `should be a(an) ${type}` : \"is invalid\"}${reason ? `, reason: ${reason}` : \"\"}${value ? `, got ${value}` : \"\"}.`);\r\n    }\r\n}\r\nexport function EE(message :any) :never{throw new Error(message);}\r\nexport function repeat<T>(item :T, count :number) :T[]{\r\n    if(typeof count != \"number\" || count < 1) utils.generic.E(\"count\", \"integer bigger than 0\", count);\r\n    return Array(count).fill(item, 0, count);\r\n}\r\nexport function noRepeat<T>(input :T[]) :T[]{\r\n    return Array.from(new Set(input)); //Set可是连IE11都支持的东西啊\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\nexport function e(s :string, scope? :Element | Document) :Node[] | Node{\r\n    if(scope === undefined || !(scope instanceof Element)) scope = document;\r\n        let a :NodeList = scope.querySelectorAll(s);\r\n        if(!a.length) return [];\r\n        //note:当一个页面存在相同ID元素时不会走这里，而会返回数组，因为说好了是querySelectorAll了并且本来就不应该有重复ID，不能怪我啊\r\n        if(a.length == 1 && s.match(/^.*#[^\\s]*$/)) return a[0];\r\n        else return Array.from(a);\r\n}\r\nexport function isDescendant(possibleDescendant :Element, possibleParent :Element) :boolean{\r\n    while(possibleDescendant.tagName != \"HTML\"){\r\n        possibleDescendant = possibleDescendant.parentNode! as Element;\r\n        if(possibleDescendant === possibleParent) return true; \r\n    }\r\n    return false;\r\n}\r\nexport function isInDocument(element :Element) :boolean{\r\n    return isDescendant(element, (e(\"html\") as Node[])[0] as Element);\r\n}\r\nexport function isChild(element :Element, target :Element) :boolean{\r\n    const children = target.childNodes;\r\n    for(let i = 0; i < children.length; i++) if(element === children[i]) return true;\r\n    return false;\r\n}\r\nexport function toHTML(HTML :string) :Node[]{\r\n    if(HTML === \"\" || typeof HTML != \"string\") utils.generic.E(\"HTML\", \"string\", HTML);\r\n    const ele = document.createElement(\"div\");\r\n    ele.innerHTML = HTML;\r\n    return getInnerNodes(ele);\r\n}\r\nexport function getInnerNodes(el :Node | Element) :Node[]{\r\n    var nodes :Node[] = [];\r\n    for(let i = 0; i < el.childNodes.length; i++) nodes[i] = el.childNodes[i].cloneNode(true);\r\n    return nodes;\r\n}\r\n//剥壳器\r\nexport function hatch(element :Element, remove? :boolean) :Node[]{\r\n    //note:Nodelist类型会实时同步造成不稳定的for循环，必须转换为Node[]！\r\n    const par = element.parentElement!, children :Node[] = Array.from(element.childNodes);\r\n    for(let i = 0; i < children.length; i++) par.insertBefore(children[i], element);\r\n    if(remove === true) element.remove();\r\n    return children;\r\n}\r\n//fixme:这个方法特异性太强了吧，能不能不要放在这里？\r\n//最终渲染方法，老祖宗求你别出bug\r\nexport function render(\r\n    HTML :string | Element | HTMLCollection | Element[] | Node | NodeList | Node[],\r\n    element :Element,\r\n    insertAfter? :boolean,\r\n    append? :boolean\r\n) :Node[]{\r\n    if(element.parentElement === null) utils.generic.EE(\"cannot render by '<html>' element, since it's root of document.\");\r\n    var html :Node[] = [];\r\n    if(typeof HTML == \"string\") html = toHTML(HTML);\r\n    else if(HTML instanceof Element || HTML instanceof Node) html[0] = HTML.cloneNode(true);\r\n    else if(HTML instanceof HTMLCollection || HTML instanceof NodeList) for(let i = 0; i < HTML.length; i++) html[i] = HTML.item(i)!.cloneNode(true);\r\n    else html = HTML;\r\n    const Rhtml = [...html].reverse(), parent = element.parentElement;\r\n    if(append === true) for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n    else if(append === false) for(let i = 0; i < Rhtml.length; i++) element.prepend(Rhtml[i]);\r\n    else if(insertAfter === true){\r\n        if(!element.nextSibling) for(let i = 0; i < Rhtml.length; i++) parent!.append(Rhtml[i]);\r\n        else for(let i = 0; i < Rhtml.length; i++) parent!.insertBefore(Rhtml[i], element.nextSibling);\r\n    }\r\n    else if(insertAfter === false) for(let i = 0; i < html.length; i++) parent!.insertBefore(html[i], element);\r\n    else for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n    //todo:加入作用域\r\n    return html;\r\n}","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as lUtils from \"../utils/index\";\r\nexport function createData(\r\n    value? :any,\r\n    shouldUpdate? :string[],\r\n    shouldExport? :((node? :Node)=>void)[]\r\n) :data{\r\n    const result :data = {\r\n        value,\r\n        deleted: false,\r\n        shouldUpdates: shouldUpdate ? shouldUpdate : [],\r\n        shouldExports: shouldExport ? shouldExport : []\r\n    }\r\n    if(isComputedProperty(result)) result.cache = undefined;\r\n    return result;\r\n}\r\nexport function addExport(dataInstance :data, func :exportFunc) :shouldExportA{\r\n    const sE = dataInstance.shouldExports, funcString = func.toString();\r\n    //检测函数是否是箭头函数，箭头函数拿不到this，一定会出错\r\n    if(funcString.match(/^\\([^\\(\\)]*\\)[\\s]*=>/)) utils.generic.E(\"func\", \"exportFunc\", func, \"export function must not be an arrow function\");\r\n    //检测shouldExport里是不是已经有了完全相同的函数。indexOf()使用全等（===）进行比较。\r\n    //important:这里的函数还是原函数，不能bind，不然后面查重就失效了，我们等到用的时候再bind也不迟\r\n    //并且分析函数还需要bind不同的东西\r\n    if(sE.indexOf(func) == -1) sE.push(func);\r\n    else console.warn(\"Duplicated function\", func, \"is blocked being added to data\", dataInstance);\r\n    return sE;\r\n}\r\nexport function removeExport(dataInstance :data, func :string | exportFunc) :shouldExportA{\r\n    const sE = dataInstance.shouldExports;\r\n    if(typeof func == \"string\"){\r\n        if(func == \"__addedByDynamic__\") utils.generic.E(\"func\", \"string | exportFunc\", func, \"this name is reserved\");\r\n        else if(func == \"\") console.warn(\"Operation blocked trying to remove ALL annoymous functions. Use the function itself for argument instead.\");\r\n        //注意这里会删除所有同名函数！\r\n        else for(let i = 0; i < sE.length; i++) if(sE[i].name === func) utils.generic.precisePop(sE[i], sE);\r\n    }\r\n    else if(typeof func == \"function\") utils.generic.precisePop(func, sE); //不是exportFunc没关系；precisePop已经处理了-1\r\n    else utils.generic.E(\"func\", \"string | exportFunc\", func);\r\n    return sE;\r\n}\r\n/**return typeof data.value == \"function\";*/\r\nexport function isComputedProperty(data :data) :boolean{\r\n    return typeof data.value == \"function\";\r\n}\r\nexport function pushCache(){\r\n\r\n}","/* cycle.js\n * 2021-05-31\n * Public Domain.\n * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n * This code should be minified before deployment.\n * See https://www.crockford.com/jsmin.html\n * USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO NOT CONTROL.\n*/\n/* library of dynamic\n * dynamic ©2022 LJM12914. https://github.com/wheelsmake/dynamic\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\n * [edited]\n*/\nimport * as utils from \"../../../utils/index\";\nimport * as lUtils from \"../utils/index\";\n/**Make a deep copy of an object or array, assuring that there is at most one instance of each object or array in the resulting structure. The duplicate references (which might be forming cycles) are replaced with an object of the form {\"$ref\": PATH} where the PATH is a JSONPath string that locates the first occurance.\n * \n * So,`var a = [];a[0] = a;return JSON.stringify(JSON.decycle(a));`produces the string '[{\"$ref\":\"$\"}]'.\n * \n * JSONPath is used to locate the unique object. $ indicates the top level of the object or array.\n * \n * [NUMBER] or [STRING] indicates a child element or property.*/\nexport function decycle(object :object) :object{\n    const objects = new WeakMap<object, string>(); //WeakMap：96.59%\n    return(function checkCycle(object :object, path :string){\n        if( //过滤阴间object\n            typeof object === \"object\"\n         && object !== null\n         && !(object instanceof Boolean)\n         && !(object instanceof Date)\n         && !(object instanceof Number)\n         && !(object instanceof RegExp)\n         && !(object instanceof String)\n        ){\n            const prev_path = objects.get(object);\n            //如果在存储中已经有了对应的唯一值，那么就存在循环引用…………………………？，返回$ref：那个值的路径\n            //fixed:仅当路径存在相同部分时，我们才能走回原点，这样才存在循环引用\n            if(prev_path !== undefined && path.indexOf(prev_path) != -1) return {$ref: prev_path};\n            else objects.set(object, path); //否则加入将这个值和路径加入存储\n            //进入对象或数组，递归\n            if(object instanceof Array){\n                const newObj :any[] = [];\n                for(let i = 0; i < object.length; i++) newObj[i] = checkCycle(object[i], path + \"[\" + i + \"]\");\n                return newObj;\n            }\n            else{\n                const newObj :anyObject = {}, keys = Object.keys(object);\n                if(keys.length != 0) for(let i = 0; i < keys.length; i++) newObj[keys[i]] = checkCycle((object as anyObject)[keys[i]], path + \"[\" + JSON.stringify(keys[i]) + \"]\");\n                else{\n                    const toStringed = lUtils.misc.compatibleToString(object);\n                    if(toStringed != \"[object Object]\") return object;\n                    //else return newObj;\n                }\n                return newObj;\n            }\n        }\n        else return object;\n    }(object, \"$\"));\n};\n/*export function retrocycle($: any){\n// Restore an object that was reduced by decycle. Members whose values are\n// objects of the form\n//      {$ref: PATH}\n// are replaced with references to the value found by the PATH. This will\n// restore cycles. The object will be mutated.\n\n// The eval function is used to locate the values described by a PATH. The\n// root object is kept in a $ variable. A regular expression is used to\n// assure that the PATH is extremely well formed. The regexp contains nested\n// * quantifiers. That has been known to have extremely bad performance\n// problems on some browsers for very long strings. A PATH is expected to be\n// reasonably short. A PATH is allowed to belong to a very restricted subset of\n// Goessner's JSONPath.\n\n// So,\n//      var s = '[{\"$ref\":\"$\"}]';\n//      return JSON.retrocycle(JSON.parse(s));\n// produces an array containing a single element which is the array itself.\n    const px = /^\\$(?:\\[(?:\\d+|\"(?:[^\\\\\"\\u0000-\\u001f]|\\\\(?:[\\\\\"\\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\\])*$/;\n    (function rez(value){\n// The rez function walks recursively through the object looking for $ref\n// properties. When it finds one that has a value that is a path, then it\n// replaces the $ref object with a reference to the value that is found by\n// the path.\n        if(value && typeof value === \"object\"){\n            if(Array.isArray(value)){\n                value.forEach((element, i)=>{\n                    if(typeof element === \"object\" && element !== null){\n                        const path = element.$ref;\n                        if(typeof path === \"string\" && px.test(path)) value[i] = eval(path);\n                        else rez(element);\n                    }\n                });\n            }\n            else{\n                Object.keys(value).forEach(key=>{\n                    const item = value[key];\n                    if(typeof item === \"object\" && item !== null){\n                        const path = item.$ref;\n                        if(typeof path === \"string\" && px.test(path)) value[key] = eval(path);\n                        else rez(item);\n                    }\n                });\n            }\n        }\n    })($);\n    return $;\n};*/","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as lUtils from \"../utils/index\";\r\nimport * as cycle from \"../libs/cycle\";\r\nexport function eliminateSymbol(property :string | Symbol) :string{\r\n    if(typeof property == \"symbol\") utils.generic.E(property.toString(), \"string\", property,  \"index of Dynamic.data must not be a Symbol\");\r\n    return property as string;\r\n}\r\nconst toString = Object.prototype.toString;\r\n/**Not `JSON.stringify`, more than `JSON.stringify`.*/\r\nexport function advancedStringify(input :object) :string{\r\n    if(typeof input != \"object\") utils.generic.E(\"input\", \"object\", input);\r\n    //https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#%E5%BC%82%E5%B8%B8\r\n    //用这个记录事后将不应该加双引号的类型去除双引号，避免如\"undefined\"（typeof string）和undefined（typeof undefined）都变成\"undefined\"的情况\r\n    //const patchList :[string[], string[], object[]] = [[], [], []];\r\n    if(input === null) return \"null\"; //不要{}了\r\n    else{\r\n        var result :string = \"{\";\r\n        //我们只对元素本身的、可枚举的属性进行提取，即Object.keys得到的东西。\r\n        const properties = Object.keys(input), toStringed = compatibleToString(input);\r\n        if(properties.length == 0){\r\n            if(toStringed != \"[object Object]\") return toStringed;\r\n            else return \"{}\";\r\n        }\r\n        else{\r\n            const input_ = cycle.decycle(input) as anyObject;\r\n            for(let i = 0; i < properties.length; i++){\r\n                const key = properties[i], value = input_[key], type = typeof value;\r\n                if(type == \"undefined\" || type == \"number\" || type == \"boolean\") addResult(value);\r\n                else if(type == \"string\") addResult(`\"${value}\"`); //字符串是带双引号的\r\n                else if(type == \"bigint\") addResult(value + \"n\");\r\n                else if(type == \"symbol\") addResult(value.toString()); //symbol不能隐式转换为字符串，又不能用in运算符\r\n                else if(type == \"function\") addResult(compatibleToString(value));\r\n                else if(type == \"object\") addResult(advancedStringify(value));\r\n                //else utils.generic.EE(\"?\"); 这个如果真走到了那世界可以毁灭了\r\n                if(i < properties.length - 1) result += \", \";\r\n                function addResult(input2 :any) :void{\r\n                    result += `${key}: ${input2}`;\r\n                }\r\n            }\r\n            result += \"}\";\r\n            return result;\r\n        }\r\n    }\r\n}\r\nexport function compatibleToString(input2 :object) :string{\r\n    //typeof undefined不能in\r\n    //typeof number™也不能in？？？那只能在前面兼容了\r\n    return \"toString\" in input2 ? input2.toString() : toString.call(input2);\r\n}\r\n(window as any).advancedStringify = advancedStringify;\r\n(window as any).decycle = cycle.decycle;","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../utils/index\";\r\nimport * as lUtils from \"./utils/index\";\r\n\r\n\r\n//开发模式\r\nconsole.info(\r\n`dynamic(dnJS) ©LJM12914. https://github.com/wheelsmake/dynamic\r\nYou are using the unminified build of dynamic. Make sure to use the minified build for production.`);\r\n\r\n\r\n//字符串重用\r\nconst s :string[] = [\r\n    \"鬼片出现了！\",\r\n    \"Access to deleted property was blocked: \"\r\n];\r\n\r\n\r\n//主类\r\nexport default class App{\r\n    constructor(rootNode :Elementy){\r\n        this.#rootNode = utils.arguments.reduceToElement(rootNode)!;\r\n        console.info(\"creating new dynamic instance with rootNode\", rootNode);\r\n        this.#initData();\r\n        this.#processInsert(this.#rootNode);\r\n        //不用观察自己对DOM的修改\r\n        this.#observer.observe(this.#rootNode, {\r\n            attributes: true,\r\n            attributeOldValue: true,\r\n            characterData: true,\r\n            characterDataOldValue: true,\r\n            childList: true,\r\n            subtree: true\r\n        });\r\n    }\r\n    #rootNode :Element;\r\n    get rootNode(){return this.#rootNode;}\r\n\r\n//#region 属性数据\r\n    #data :dataObject = {};\r\n    //proxy虽然代理了#data这个dataObject，但它的表现其实就是一个典型的、完整的anyObject\r\n    #proxy :anyObject = {};\r\n    //proxy本身没有不可变性，必须再用一个data只读伪属性保护\r\n    get data(){return this.#proxy;} //class内部不要引用这个data！内部为什么不直接引用#proxy呢？？？？？\r\n    get _(){return this.#proxy;} //缩写\r\n    #initData(){\r\n        //note:sharpData === this.#data\r\n        this.#proxy = new Proxy(this.#data, {\r\n            get(sharpData :dataObject, property :string | symbol, proxy :dataObject) :any{\r\n                property = lUtils.misc.eliminateSymbol(property);\r\n                //console.log(\"get\", property);\r\n                //正常存在该属性\r\n                if(property in sharpData && !sharpData[property].deleted){\r\n                    var result :any;\r\n                    //如果value是函数就先执行它，获得返回值，这是约定\r\n                    if(typeof sharpData[property].value == \"function\") result = (sharpData[property].value.bind(proxy))();\r\n                    else result = sharpData[property].value;\r\n                    //不要在这边优化object显示，这边是object输出！人家传一个object进来，你给他一个string回去？？？ //优化object显示，不要显示[object Object]；如果转换出错，那么result不会被更改，还是[object Object]\r\n                    //正确的方法是在textContent替换中写object\r\n                    //if(typeof result == \"object\") try{result = JSON.stringify(result);}catch{}\r\n\r\n                    //symbol不能隐式转换为字符串，浏览器会抛出错误，但是我们不应该吞掉开发者的错误，所以不用管它\r\n                    //else if(typeof result == \"symbol\")\r\n                    return result;\r\n                }\r\n                //不用创建属性！\r\n                else if(!(property in sharpData)) return undefined;\r\n                //该属性已被删除fixed:这个不能放在没有该属性前，reading undefined警告\r\n                else if(sharpData[property].deleted) console.warn(`${s[1]}${property}.`);\r\n                else console.error(s[0], \"get\", property); //不可能有else了\r\n            },\r\n            set(sharpData :dataObject, property :string | symbol, newValue :unknown, proxy :dataObject) :boolean{\r\n                property = lUtils.misc.eliminateSymbol(property);\r\n                //console.log(\"set\", property, newValue);\r\n                //正常存在该属性\r\n                if(property in sharpData && !sharpData[property].deleted){\r\n                    //如果传入的是函数，那么就收集函数中需要的属性，将这些属性的shouldUpdate中推一个这个属性\r\n                    //`a.shouldUpdate[number] = \"b\"` 的意思是：当属性a发生改变时，要去更新b\r\n                    //更新b并不是运行一次b.value函数，而是去更新b.shouldExport，重新运行一遍这些方法，将DOM中的b更新\r\n                    //我们也要同样地去b.shouldUpdate里将它们的shouldExport运行了，因为它们的值也“应该”改变了\r\n                    //这是一个递归过程，一直从shouldUpdate下去，一直运行shouldExport\r\n                    if(typeof newValue == \"function\"){\r\n                        //todo:“计算”属性\r\n                    }\r\n                    const oldValue = sharpData[property].value;\r\n                    sharpData[property].value = newValue;\r\n                    //更新依赖方法\r\n                    const exports = sharpData[property].shouldExports,\r\n                          updates = sharpData[property].shouldUpdates;\r\n                    for(let i = 0; i < updates.length; i++){\r\n                    \r\n                    }\r\n                    for(let i = 0; i < exports.length; i++) (exports[i].bind(proxy))(oldValue);\r\n                }\r\n                //尚未有该属性，新建\r\n                else if(!(property in sharpData)){\r\n                    if(typeof newValue == \"function\"){\r\n                        //todo:“计算”属性\r\n                    }\r\n                    else if(typeof newValue == \"object\"){\r\n\r\n                    }\r\n                    sharpData[property] = lUtils.data.createData(newValue, [], []);\r\n                }\r\n                //该属性已被删除fixed:这个不能放在没有该属性前，reading undefined警告\r\n                else if(sharpData[property].deleted) console.warn(`${s[1]}${property}.`);\r\n                else console.error(s[0], \"set\", property); //不可能有else了\r\n                return true;\r\n            },\r\n            //用has拦截in运算没必要，因其不会导致#data状态的改变\r\n            //Proxy的defineProperty只会在Object.defineProperty走到，别听MDN的\r\n            //https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/defineProperty#:~:text=proxy.property%3D%27value%27\r\n            //只要警告他们不要用Object.defineProperty往data里扔东西就好了\r\n            deleteProperty(sharpData :dataObject, property :string | symbol) :boolean{\r\n                //reviewed:不要真正删除而是标记删除\r\n                property = lUtils.misc.eliminateSymbol(property);\r\n                const exists = property in sharpData;\r\n                if(exists) sharpData[property].deleted = true;\r\n                return exists;\r\n            }\r\n        });\r\n    }\r\n    addExport(dataProperty :string, func :exportFunc) :shouldExportA{return lUtils.data.addExport(this.#data[dataProperty], func);}\r\n    removeExport(dataProperty :string, func :string | exportFunc) :shouldExportA{return lUtils.data.removeExport(this.#data[dataProperty], func);}\r\n//#endregion\r\n\r\n//#region todo:实例内方法\r\n    #methods :functionObject = {};\r\n    addMethods(){\r\n\r\n    }\r\n    removeMethods(){\r\n\r\n    }\r\n//#endregion\r\n\r\n//#region HTML声明式语法\r\n    parseHTML(node :Node) :void{this.#processInsert(node);}\r\n    #processInsert(node :Node) :void{\r\n        if(node instanceof Element){\r\n            //hack:超级hack完美解决作用域内部元素on*事件必须访问全局App才能访问数据的问题\r\n            //给作用域内每个元素的data和_都弄上这个data，然后只要this一下就出来了！\r\n            const data = this.data;\r\n            Object.defineProperty(node, \"data\", {\r\n                configurable: false,\r\n                enumerable: true,\r\n                get(){return data;}\r\n            });\r\n            Object.defineProperty(node, \"_\", {\r\n                configurable: false,\r\n                enumerable: true,\r\n                get(){return data;}\r\n            });\r\n\r\n            const attrs = node.attributes, children = Array.from(node.childNodes) as Node[];\r\n            //别写in，否则出一大堆方法，NameNodeMap可以用数组那套，NameNodeMap.length返回的是正确的长度\r\n            for(let i = 0; i < attrs.length; i++){\r\n                //#region 关于attribute与property的讨论\r\n            /*important:fixed:-warning:对于某些attribute来说，它们本身只是一个默认值，想要获得真正的值需要访问节点的对应property！\r\n            但是我们无法知道哪些attribute有这种阴间问题，到时候一味更新attribute没更新到property就没用了\r\n            目前看了看标准和文档，来试图真正说清楚这个。\r\n            我们将property/attribute组合叫pa组合。\r\n            我们将 $0[property] = x会导致$0.getAttribute(\"property\") === x 称为 拥有完整的p->a同步。\r\n            我们将 $0.setAttribute(\"property\", x)会导致$0[property] === x 称为 拥有完整的a->p同步。\r\n            我们将拥有完整的p->a同步和拥有完整的a->p同步称为完全双向同步，拥有两者中任一种称为单向同步。\r\n            如果存在同步，但property的值需要改变，那么称为非同名同步。\r\n            pa组合一共有以下几种：\r\n            1. 同名且完全双向同步，如accept。\r\n            2. 不同名且完全双向同步，如value(a)和defaultValue(p)。\r\n            3. 不同名且不可能双向同步，因为两边的格式不同，如style。但是这种情况下浏览器已经做好了转换，可以近似视作第二种。\r\n            由此可见pa组合一定存在双向同步，这和whatwg.org的标准是完全相符的。\r\n            但是可能名字不同。这个名字不同问题很大，因为有的只是kebab转camel，有的整个都变了，如value->defaultValue，class->className。\r\n            并且有的不同组合的a和p存在一次性的同步，这个“一次性”发生在第一次加载页面（Gecko和IE）或每次刷新页面（chromium）\r\n            例如value(a)和value(p)，它们不是一个组合（value(a)和defaultValue(p)才是一对的），一次性同步方向为value(a)->value(p)。\r\n            important:我们的目的是：能够做到属性值与data双向同步，即修改属性值会触发data修改且触发data should*事件，修改data触发属性值的修改。\r\n            那么，有一个很好玩的方案：data是典型的引用/代理类型，属性(p)是标准JavaScript属性，那为什么不直接把属性(p)改成data呢？\r\n            哦，不行，属性(p)本质上是一个使用getter和setter的伪属性，不能变成其他值。\r\n            还有方案：用observer监控DOM（就是最开始的“上传”实现策略）。\r\n            但是observer只能监测attributes，对于没有与attribute组合的property它无能为力了。\r\n            所以，真的要放弃了吗……\r\n            fixme:我们目前只能做到specific处理，general处理等我再想想。\r\n            特殊处理限于class、<input>中的value和checked。style不用。\r\n            参考链接：\r\n            https://javascript.info/dom-attributes-and-properties#:~:text=But%20there%20are%20exclusions%2C%20for%20instance%20input.value%20synchronizes%20only%20from%20attribute%20%E2%86%92%20to%20property%2C%20but%20not%20back%3A\r\n            https://stackoverflow.com/questions/57475325\r\n            https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflecting-content-attributes-in-idl-attributes\r\n            */\r\n            //#endregion\r\n                \r\n                //检查属性名和属性值，它们都要求全部是插值，不允许中途插值；important:todo:并且都需要双向绑定\r\n                if(attrs[i].name.match(/^:_[a-zA-Z$_][\\w$]*_:$/)){\r\n                    const property = attrs[i].name.substring(2, attrs[i].name.length - 2);\r\n\r\n                    //添加尚未添加的属性，与下文引发导出过程的作用重复，不需要了\r\n                    //if(!(property in this.#data)) this.#data[property] = lUtils.data.createData();\r\n\r\n                    //更新attribute的名称，值不改变；但是本质上是删除旧attribute，添加新attribute\r\n                    //fixme:因此必须需要一个参数，否则无从得知是哪个attribute\r\n                    const __addedByDynamic__ = function(this :anyObject, oldValue :any){ //参数里放this不影响函数的参数\r\n                        const valueOfAttr = node.getAttribute(oldValue)!;\r\n                        node.setAttribute(this[property], valueOfAttr);\r\n                        node.removeAttribute(oldValue);\r\n                    }\r\n                    //这个用来引发一次导出过程，如果开发者没有赋值，那么:__:标识将变成undefined，反正不要留下标识\r\n                    //这里是与Dynamic.new一样的同步操作，不存在覆盖开发者设置的值的问题！\r\n                    //需要先引发再添加export（reading undefined警告）\r\n                    this.#proxy[property] = undefined;\r\n                    lUtils.data.addExport(this.#data[property], __addedByDynamic__);\r\n                    //™还要再引发一次，不然export当时是没有的。怎么又写出了这种s**t代码啊！\r\n                    this.#proxy[property] = undefined;\r\n                }\r\n                if(attrs[i].value.match(/^:_[a-zA-Z$_][\\w$]*_:$/)){\r\n                    //name变量用于将属性名转换为值类型，取消引用类型同步性\r\n                    const property = attrs[i].value.substring(2, attrs[i].value.length - 2);\r\n                    var name = attrs[i].name;\r\n\r\n                    //将规避属性添加方法归化到正常方法\r\n                    node.removeAttribute(name); //这个不会有任何问题，因为后面会立即set回去，如果带:会被set不带:的attr\r\n                    if(name[name.length - 1] == \":\") name = name.substring(0, name.length - 1);\r\n\r\n                    //添加尚未添加的属性，与下文引发导出过程的作用重复，不需要了\r\n                    //if(!(property in this.#data)) this.#data[property] = lUtils.data.createData();\r\n\r\n                    var __addedByDynamic__ :exportFunc; //下面：参数里放this不影响函数的参数\r\n                    //特殊处理a/p。这里实际上只需要处理完全不能通过attribute做到的东西，class反而是不能通过property（因其名字不同）做到\r\n                    if(\r\n                        (/*name == \"class\" || */name == \"value\" || name == \"checked\")\r\n                     && node instanceof HTMLInputElement //避免小天才把这俩属性写在其他元素上\r\n                    ) __addedByDynamic__ = function(this :anyObject){\r\n                        if(node.hasOwnProperty(name)){ //检测是否存在对应property，不要用in，检测仅限于它本身，不要扩展到奇怪的原型链\r\n                            \r\n                        }\r\n                    }\r\n                    else __addedByDynamic__ = function(this :anyObject){\r\n                        node.setAttribute(name, this[property]);\r\n                    }\r\n                    //这个用来引发一次导出过程，如果开发者没有赋值，那么:__:标识将变成undefined，反正不要留下标识\r\n                    //这里是与Dynamic.new一样的同步操作，不存在覆盖开发者设置的值的问题！\r\n                    //需要先引发再添加export（reading undefined警告）\r\n                    this.#proxy[property] = undefined;\r\n                    lUtils.data.addExport(this.#data[property], __addedByDynamic__);\r\n                    //™还要再引发一次，不然export当时是没有的。怎么又写出了这种s**t代码啊！\r\n                    this.#proxy[property] = undefined;\r\n                }\r\n            }\r\n            //进入子节点\r\n            for(let i = 0; i < node.childNodes.length; i++) this.#processInsert(node.childNodes[i]);\r\n        }\r\n        else if(node instanceof Text){\r\n            //fixed:如果修改Element的textContent则会覆盖所有子元素，所以我们仅在文本节点上执行这边的代码\r\n\r\n            //fixme:但是文本节点（特别是空文本节点）很容易被浏览器乱扔，这个目前没想到好的方法\r\n            //note:已经验证：chromium和Gecko都会在一个文本节点textContent被清空后直接删除这个文本节点。\r\n            //所以要不我们手动hack它，要不提醒开发者\r\n            //如果hack的话，可行的方法是自动插入零宽字符，不过这样做显然会导致一些问题（如字数统计等）\r\n            //所以我们还是去提醒开发者吧，毕竟DOM编辑这个需求算是冷门需求。我也是被提醒的对象，因为造dynamic就是为了造oe。\r\n\r\n            //不修改innerText而是修改textContent，因为innerText会触发更多的浏览器绘制过程\r\n            //(可见local_tests/performance_test) 执行 for(let i=0;i<1000;i++){$0.innerText += \"a\"}\r\n            //innerText：144.42ms 每次都要触发一次重新计算样式——布局（强制自动重排）\r\n            //textContent：4.6ms 最后一次设置后再进行重新计算样式——布局\r\n            if(node.textContent){\r\n                const inserts = [...node.textContent.matchAll(/:_[a-zA-Z$_][\\w$]*_:/g)];\r\n                //没有匹配到则为null，匹配到则[n]为:_example_:\r\n                if(inserts.length > 0){\r\n                    /*note:这里所做的事和一个字符串模板引擎没有什么区别。\r\n                     * 我们先确定这一段文字中所有的插入点在哪里；\r\n                     * 然后保存好这一段文字，更新时要用的；\r\n                     * 然后确定要使用哪些属性，给它们都添加新建的一个方法；\r\n                     * 这个新建的方法是一个标准的属性shouldExport方法，但是它被多个属性共用（这个不足为奇）；\r\n                     * 方法的具体内容是：收集所有需要的属性，用保存好的文字加上模板，然后塞回节点里；\r\n                     * 简单来说就是新建一个函数，塞语句和文字进去，把它记录成所有依赖属性的shouldExport方法*/\r\n                    const offsets = [], properties = [], text = node.textContent;\r\n                    //收集数据并创建尚未创建的属性\r\n                    for(let i = 0; i < inserts.length; i++){\r\n                        const property = inserts[i][0].substring(2, inserts[i][0].length - 2);\r\n                        offsets.push(inserts[i].index);\r\n                        properties.push(property);\r\n                        if(!(property in this.#data)) this.#data[property] = lUtils.data.createData();\r\n                    }\r\n                    //if(offsets.length != properties.length) console.error(s[0], offsets, properties); //鬼片检验\r\n                    //构造并记录export方法\r\n                    const NRproperties = utils.generic.noRepeat(properties);\r\n                    const __addedByDynamic__ = function(this :anyObject){ //参数里放this不影响函数的参数\r\n                        var t = text; //为了保证它是值类型，node.textContent是引用类型，会变\r\n                        for(let i = 0; i < NRproperties.length; i++){\r\n                            var data = this[NRproperties[i]];\r\n                            //console.log(data);\r\n                            //fixed:见initData()->Proxy->set\r\n                            if(typeof data == \"object\") data = lUtils.misc.advancedStringify(data);\r\n                            t = t.replaceAll(`:_${NRproperties[i]}_:`, data);\r\n                        }\r\n                        node.textContent = t;\r\n                    }\r\n                    for(let i = 0; i < NRproperties.length; i++){\r\n                        //这个用来引发一次导出过程，如果开发者没有赋值，那么:__:标识将变成undefined，反正不要留下标识\r\n                        //这里是与Dynamic.new一样的同步操作，不存在覆盖开发者设置的值的问题！\r\n                        //需要先引发再添加export（reading undefined警告）\r\n                        this.#proxy[NRproperties[i]] = undefined;\r\n                        lUtils.data.addExport(this.#data[NRproperties[i]], __addedByDynamic__);\r\n                        //™还要再引发一次，不然export当时是没有的。怎么又写出了这种s**t代码啊！\r\n                        this.#proxy[NRproperties[i]] = undefined;\r\n                    }\r\n                }\r\n                //else\r\n            }\r\n            //else\r\n        }\r\n        else console.error(s[0], node);\r\n    }\r\n//#endregion\r\n\r\n//#region todo:DOM监控\r\n    #observer :MutationObserver = new MutationObserver((records :MutationRecord[])=>{\r\n        for(let i = 0; i < records.length; i++){\r\n            console.log(records[i]);\r\n        }\r\n    });\r\n    #shouldAnnounceAttrs :[] = [];\r\n    #registerOCB(){\r\n\r\n    }\r\n    #deleteOCB(){\r\n\r\n    }\r\n//#endregion\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\n/**一定会返回Element，void为报错hack*/\r\nexport function reduceToElement(input :Elementy) :Element | void{\r\n    if(input instanceof Element) return input;\r\n    else if(typeof input == \"string\"){\r\n        const el = utils.element.e(input);\r\n        if(el instanceof Node) return el as Element;\r\n        else utils.generic.E(\"rootNode\", \"string | Element\", input, \"rootNode should be a VALID #id selector\"); //fixed:现在不会走到new Element()那儿了\r\n    }\r\n    else utils.generic.E(\"rootNode\", \"string | Element\", input, \"rootNode should be a #id selector or an Element\");\r\n}","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../utils/index\";\r\nimport * as lUtils from \"./utils/index\";\r\nexport function getSearch() :SSkvObject | null{\r\n    var s = location.search;\r\n    if(s != \"\"){\r\n        s = s.substring(1);\r\n        const result :SSkvObject = {};\r\n        s.split(\"&\").forEach(value=>{\r\n            const sp = value.split(\"=\");\r\n            result[sp[0]] = sp[1];\r\n        });\r\n        return result;\r\n    }\r\n    else return null;\r\n}\r\nexport function getHash(){\r\n    \r\n}","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../utils/index\";\r\nimport * as lUtils from \"./utils/index\";\r\nexport function add(){\r\n    //todo:\r\n}","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../utils/index\";\r\nimport * as lUtils from \"./utils/index\";\r\n\r\n//分文件开发\r\nimport App from \"./app\";\r\nimport * as template from \"./template\";\r\nimport * as spa from \"./spa\";\r\nimport * as manifest from \"./manifest\";\r\n\r\n\r\n//禁用开发者工具的hack变量\r\nconst cI = clearInterval;\r\nvar dtInterval :number;\r\n//禁用开发者工具（不推荐，因此在API指引里没写）\r\nfunction __disableDevTools__() :void{\r\n    dtInterval = (()=>{\r\n        return setInterval(()=>{\r\n            debugger;\r\n        }, 20) as unknown as number; //怎么默认在NodeJS环境下呢？？？\r\n    })();\r\n    //hack clearInterval，让它不清除我们的这个\r\n    //Proxy中毒太深了，Proxy只在一大堆对象的代理上有性能优势，就这一个还不如用function\r\n    (clearInterval as any) = (id: number | undefined) :void=>{\r\n        if(id != dtInterval) cI.call(window, id);\r\n    }\r\n    /*(clearInterval as any) = new Proxy(clearInterval, {\r\n        apply(target, thisArg, argArray){\r\n            if(argArray[0] != dtInterval) return Reflect.apply(target, thisArg, argArray);\r\n        }\r\n    });*/\r\n}\r\nfunction __enableDevTools__() :void{\r\n    (clearInterval as any) = cI;\r\n    clearInterval(dtInterval);\r\n}\r\n\r\n//构造导出对象\r\nconst Dynamic = {\r\n    //主方法\r\n    new(rootNode :Elementy) :App{return new App(rootNode);},\r\n    //引入\r\n    template,\r\n    spa,\r\n    manifest,\r\n    //工具方法\r\n    e(s: string, scope?: Element | Document) :Node | Node[]{return utils.element.e(s, scope);},\r\n    render(args :{\r\n        HTML :string | Element | HTMLCollection | Element[] | Node | NodeList | Node[],\r\n        element :Element, insertAfter? :boolean, append? :boolean\r\n    }) :Node[]{return utils.element.render(args.HTML, args.element, args.insertAfter, args.append);},\r\n    toHTML(HTML :string) :Node[]{return utils.element.toHTML(HTML)},\r\n    hatch(element :Element, remove? :boolean) :Node[]{return utils.element.hatch(element, remove);},\r\n    compose(){}, //todo:\r\n    //hack\r\n    __disableDevTools__,\r\n    __enableDevTools__\r\n};\r\n\r\n//导出\r\nutils.generic.constantize(Dynamic);\r\nexport default Dynamic;","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport Dynamic from \"./dynamic.export\";\r\n//fixed:当作模块使用的时候不需要弄到全局作用域，所以将这个东西抽出来了\r\nObject.defineProperty(window, \"Dynamic\", {\r\n    configurable: false,\r\n    writable: false,\r\n    enumerable: true,\r\n    value: Dynamic\r\n});"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","precisePop","ele","array","indexOf","splice","E","argument","type","reason","undefined","Error","console","error","e","s","scope","Element","document","a","querySelectorAll","length","match","Array","from","toHTML","HTML","createElement","innerHTML","el","nodes","i","childNodes","cloneNode","getInnerNodes","render","element","insertAfter","append","parentElement","message","html","Node","HTMLCollection","NodeList","item","Rhtml","reverse","parent","prepend","nextSibling","insertBefore","createData","shouldUpdate","shouldExport","result","deleted","shouldUpdates","shouldExports","cache","addExport","dataInstance","func","sE","toString","push","warn","decycle","object","objects","WeakMap","checkCycle","path","Boolean","Date","Number","RegExp","String","prev_path","$ref","set","newObj","keys","JSON","stringify","eliminateSymbol","property","advancedStringify","input","properties","toStringed","compatibleToString","input_","addResult","input2","window","App","constructor","rootNode","MutationObserver","records","this","observe","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","data","_","dataProperty","removeExport","name","addMethods","removeMethods","parseHTML","node","getSearch","location","search","substring","split","forEach","sp","getHash","add","Proxy","sharpData","proxy","bind","newValue","oldValue","updates","deleteProperty","exists","configurable","attrs","__addedByDynamic__","valueOfAttr","getAttribute","setAttribute","removeAttribute","HTMLInputElement","Text","textContent","inserts","matchAll","offsets","text","index","NRproperties","Set","t","replaceAll","cI","clearInterval","dtInterval","Dynamic","new","template","spa","manifest","args","hatch","remove","par","children","compose","__disableDevTools__","setInterval","id","__enableDevTools__","constantize","freeze","writable"],"sourceRoot":""}