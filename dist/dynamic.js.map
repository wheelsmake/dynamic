{"version":3,"file":"dynamic.js","mappings":"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","sources":["webpack:///./src/dynamic.ts","webpack:///./src/manifest.ts","webpack:///./src/spa.ts","webpack:///./src/utils/data.ts","webpack:///./src/utils/index.ts","webpack:///./src/utils/misc.ts","webpack:///../utils/arguments.ts","webpack:///../utils/element.ts","webpack:///../utils/generic.ts","webpack:///../utils/index.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/dynamic.export.ts"],"sourcesContent":["/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../utils/index\";\r\nimport * as lUtils from \"./utils/index\";\r\nconst isBeta = true;\r\n\r\n\r\n//开发模式\r\nconsole.info(\r\n`dynamic(dnJS) ©LJM12914. https://github.com/wheelsmake/dynamic\r\nYou are using the unminified build of dynamic. Make sure to use the minified build for production.`);\r\nconst isDEVMode = \"__dn_DEV__\" in window && (window as anyObject).__dn_DEV__ === true && isBeta;\r\n\r\n\r\n//字符串重用\r\nconst s :string[] = [\r\n    \"鬼片出现了！\",\r\n    \"Access to deleted property was blocked: \"\r\n];\r\n\r\n\r\n//主类\r\nclass App{\r\n    #rootNode :Element;\r\n    #data :dataObject = {};\r\n    #proxy :dataObject;\r\n    constructor(rootNode :Elementy){\r\n        this.#rootNode = utils.arguments.reduceToElement(rootNode)!;\r\n        console.info(\"creating new dynamic instance with rootNode\", rootNode);\r\n        //note:sharpData === this.#data\r\n        this.#proxy = new Proxy(this.#data, {\r\n            get(sharpData :dataObject, property :string | symbol, proxy :dataObject) :any{\r\n                property = lUtils.misc.eliminateSymbol(property);\r\n                console.log(\"get\", property);\r\n                if(property in sharpData && !sharpData[property].deleted){\r\n                    var result :any;\r\n                    //如果value是函数就先执行它，获得返回值，这是约定\r\n                    if(typeof sharpData[property].value == \"function\") result = (sharpData[property].value.bind(proxy))();\r\n                    else result = sharpData[property].value;\r\n                    //优化object显示，不要显示[object Object]；如果转换出错，那么result不会被更改，还是[object Object]\r\n                    if(typeof result == \"object\") try{result = JSON.stringify(result);}catch{}\r\n                    //symbol不能隐式转换为字符串，浏览器会抛出错误，但是我们不应该吞掉开发者的错误，所以不用管它\r\n                    //else if(typeof result == \"symbol\")\r\n                    return result;\r\n                }\r\n                //该属性已被删除\r\n                else if(sharpData[property].deleted) console.warn(`${s[1]}${property}.`);\r\n                else return undefined;\r\n            },\r\n            set(sharpData :dataObject, property :string | symbol, newValue :unknown, proxy :dataObject) :boolean{\r\n                property = lUtils.misc.eliminateSymbol(property);\r\n                console.log(\"set\", property, newValue);\r\n                //正常存在该属性\r\n                if(property in sharpData && !sharpData[property].deleted){\r\n                    //如果传入的是函数，那么就收集函数中需要的属性，将这些属性的shouldUpdate中推一个这个属性\r\n                    //argument_solved: `a.shouldUpdate[number] = \"b\"` 的意思是：当属性a发生改变时，要去更新b\r\n                    //更新b并不是运行一次b.value函数，而是去更新b.shouldExport，重新运行一遍这些方法，将DOM中的b更新\r\n                    //我们也要同样地去b.shouldUpdate里将它们的shouldExport运行了，因为它们的值也“应该”改变了\r\n                    //这是一个递归过程，一直从shouldUpdate下去，一直运行shouldExport\r\n                    if(typeof newValue == \"function\"){\r\n                        //newValue = (newValue.bind(proxy))();\r\n\r\n                    }\r\n                    const oldValue = sharpData[property].value;\r\n                    sharpData[property].value = newValue;\r\n                    //更新依赖方法\r\n                    const exports = sharpData[property].shouldExports,\r\n                          updates = sharpData[property].shouldUpdates;\r\n                    for(let i = 0; i < updates.length; i++){\r\n\r\n                    }\r\n                    for(let i = 0; i < exports.length; i++) (exports[i].bind(proxy))(oldValue);\r\n                }\r\n                //该属性已被删除\r\n                else if(sharpData[property].deleted) console.warn(`${s[1]}${property}.`);\r\n                //尚未有该属性，新建\r\n                else{\r\n                    sharpData[property] = lUtils.data.createData(newValue, [], []);\r\n                    if(lUtils.data){\r\n                        //todo:\r\n                    }\r\n                }\r\n                return true;\r\n            },\r\n            //用has拦截in运算没必要，因其不会导致#data状态的改变\r\n            //Proxy的defineProperty只会在Object.defineProperty走到，别听MDN的\r\n            //https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/defineProperty#:~:text=proxy.property%3D%27value%27\r\n            //只要警告他们不要用Object.defineProperty往data里扔东西就好了\r\n            deleteProperty(sharpData :dataObject, property :string | symbol) :boolean{\r\n                //review:不要真正删除而是标记删除\r\n                property = lUtils.misc.eliminateSymbol(property);\r\n                const exists = property in sharpData;\r\n                if(exists) sharpData[property].deleted = true;\r\n                return exists;\r\n            }\r\n        });\r\n        this.#detectInsert(this.#rootNode);\r\n    }\r\n\r\n    get rootNode(){return this.#rootNode;}\r\n    //proxy本身没有不可变性，必须再用一个data只读伪属性保护\r\n    //内部不要引用这个data！内部为什么不直接引用#proxy呢？？？？？\r\n    get data(){return this.#proxy;}\r\n    //缩写\r\n    get _(){return this.#proxy;}\r\n    //开发模式\r\n    get __privateData__(){\r\n        if(isDEVMode) return this.#data;\r\n        else return \"BLOCKED IN NON-DEV MODE\";\r\n    }\r\n\r\n    addExport(dataProperty :string, func :exportFunc){\r\n        return lUtils.data.addExport(this.#data[dataProperty], func);\r\n    }\r\n    removeExport(dataProperty :string, func :string | exportFunc){\r\n        return lUtils.data.removeExport(this.#data[dataProperty], func);\r\n    }\r\n    //note:没有做:_ _:语法的东西，看看需不需要做吧\r\n    #detectInsert(node :Node) :void{\r\n        if(node instanceof Element){\r\n            const attrs = node.attributes, children = Array.from(node.childNodes) as Node[];\r\n            //别写in，否则出一大堆方法，NameNodeMap可以用数组那套，NameNodeMap.length返回的是正确的长度\r\n            for(let i = 0; i < attrs.length; i++){\r\n                //检查属性名和属性值，它们都要求全部是，不允许中途插入\r\n                if(attrs[i].name.match(/:_[^:]+_:/)){\r\n                    const property = attrs[i].name.substring(2, attrs[i].name.length - 2);\r\n                    if(!(property in this.#data)) this.#data[property] = lUtils.data.createData();\r\n                    const __addedByDynamic__ = function(this :anyObject, oldValue :any){ //参数里放this不影响函数的参数\r\n                        const valueOfAttr = node.getAttribute(oldValue)!; //review:可不可能得到null？\r\n                        node.setAttribute(this[property], valueOfAttr);\r\n                        node.removeAttribute(oldValue);\r\n                    }\r\n                    lUtils.data.addExport(this.#data[property], __addedByDynamic__);\r\n                    //这个用来引发一次导出过程，将:__:标识变成开发者赋的值或undefined\r\n                    (this.#proxy[property] as any) = undefined;\r\n                }\r\n                if(attrs[i].value.match(/:_[^:]+_:/)){\r\n                    //name变量用于将属性名转换为值类型，取消响应性\r\n                    const property = attrs[i].value.substring(2, attrs[i].value.length - 2), name = attrs[i].name;\r\n                    if(!(property in this.#data)) this.#data[property] = lUtils.data.createData();\r\n                    const __addedByDynamic__ = function(this :anyObject){ //参数里放this不影响函数的参数\r\n                        node.setAttribute(name, this[property]);\r\n                    }\r\n                    lUtils.data.addExport(this.#data[property], __addedByDynamic__);\r\n                    //这个用来引发一次导出过程，将:__:标识变成开发者赋的值或undefined\r\n                    (this.#proxy[property] as any) = undefined;\r\n                }\r\n            }\r\n            //进入子节点\r\n            for(let i = 0; i < node.childNodes.length; i++) this.#detectInsert(node.childNodes[i]);\r\n        }\r\n        else if(node instanceof Text){\r\n            //fixed:如果修改Element的textContent则会覆盖所有子元素，所以我们仅在文本节点上执行这边的代码\r\n            //fixme:但是文本节点很容易被浏览器乱扔，这个目前没想到好的方法\r\n            if(node.textContent){\r\n                const inserts = [...node.textContent.matchAll(/:_[^:]+_:/g)];\r\n                //没有匹配到则为null，匹配到则[n]为:_example_:\r\n                if(inserts.length > 0){\r\n                    /*note:\r\n                     * 这里所做的事和一个字符串模板引擎没有什么区别。\r\n                     * 我们先确定这一段文字中所有的插入点在哪里；\r\n                     * 然后保存好这一段文字，更新时要用的；\r\n                     * 然后确定要使用哪些属性，给它们都添加新建的一个方法；\r\n                     * 这个新建的方法是一个标准的属性shouldExport方法，但是它被多个属性共用（这个不足为奇）；\r\n                     * 方法的具体内容是：收集所有需要的属性，用保存好的文字加上模板，然后塞回节点里；\r\n                     * \r\n                     * 简单来说就是新建一个函数，塞语句和文字进去，把它记录成所有依赖属性的shouldExport方法\r\n                     */\r\n                    const offsets = [], properties = [], text = node.textContent;\r\n                    //收集数据并创建尚未创建的属性\r\n                    for(let i = 0; i < inserts.length; i++){\r\n                        const property = inserts[i][0].substring(2, inserts[i][0].length - 2);\r\n                        offsets.push(inserts[i].index);\r\n                        properties.push(property);\r\n                        if(!(property in this.#data)) this.#data[property] = lUtils.data.createData();\r\n                    }\r\n                    if(offsets.length != properties.length) console.error(s[0], offsets, properties); //鬼片检验\r\n                    //构造并记录export方法\r\n                    const NRproperties = utils.generic.noRepeat(properties);\r\n                    const __addedByDynamic__ = function(this :anyObject){ //参数里放this不影响函数的参数\r\n                        var t = text; //为了保证它是值类型，node.textContent是引用类型，会变\r\n                        for(let i = 0; i < NRproperties.length; i++) t = t.replaceAll(`:_${NRproperties[i]}_:`, this[NRproperties[i]]);\r\n                        node.textContent = t;\r\n                    }\r\n                    for(let i = 0; i < NRproperties.length; i++){\r\n                        lUtils.data.addExport(this.#data[NRproperties[i]], __addedByDynamic__);\r\n                        //这个用来引发一次导出过程，将:__:标识变成开发者赋的值或undefined\r\n                        (this.#proxy[NRproperties[i]] as any) = undefined;\r\n                    }\r\n                }\r\n                //else\r\n            }\r\n            //else\r\n        }\r\n        else console.error(s[0], node);\r\n    }\r\n}\r\n\r\n\r\n//分文件开发\r\nimport * as spa from \"./spa\";\r\nimport * as manifest from \"./manifest\";\r\n//构造导出对象\r\nconst Dynamic = {\r\n    //主方法\r\n    new(rootNode :Elementy){\r\n        return new App(rootNode);\r\n    },\r\n    spa, manifest,\r\n    //实用方法\r\n    e(s: string, scope?: Element | Document): Node | Node[]{return utils.element.e(s, scope);},\r\n    debugger() :number{\r\n        return setInterval(()=>{\r\n            debugger;\r\n        }, 20) as unknown as number; //™怎么默认NodeJS环境了？？？？？\r\n    }\r\n}\r\nutils.generic.constantize(Dynamic);\r\n\r\n\r\n//对象导出\r\nexport default Dynamic;","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../utils/index\";\r\nimport * as localUtils from \"./utils/index\";\r\nexport function add(){\r\n    //todo:\r\n}","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../utils/index\";\r\nimport * as localUtils from \"./utils/index\";\r\nexport function getSearch() :SSkvObject | null{\r\n    var s = location.search;\r\n    if(s != \"\"){\r\n        s = s.substring(1);\r\n        const result :SSkvObject = {};\r\n        s.split(\"&\").forEach(value=>{\r\n            const sp = value.split(\"=\");\r\n            result[sp[0]] = sp[1];\r\n        });\r\n        return result;\r\n    }\r\n    else return null;\r\n}\r\nexport function getHash(){\r\n    \r\n}","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as localUtils from \"../utils/index\";\r\nexport function createData(\r\n    value? :any,\r\n    shouldUpdate? :string[],\r\n    shouldExport? :((node? :Node)=>void)[]\r\n) :data{\r\n    const result :data = {\r\n        value,\r\n        deleted: false,\r\n        shouldUpdates: shouldUpdate ? shouldUpdate : [],\r\n        shouldExports: shouldExport ? shouldExport : []\r\n    }\r\n    if(isComputedProperty(result)) result.cache = undefined;\r\n    return result;\r\n}\r\nexport function addExport(dataInstance :data, func :exportFunc) :shouldExportA{\r\n    const sE = dataInstance.shouldExports, funcString = func.toString();\r\n    //检测函数是否是箭头函数，箭头函数拿不到this，一定会出错\r\n    if(funcString.match(/^\\([^\\(\\)]*\\)[\\s]*=>/)) utils.generic.E(\"func\", \"exportFunc\", func, \"export function must not be an arrow function\");\r\n    //检测shouldExport里是不是已经有了完全相同的函数。indexOf()使用全等（===）进行比较。\r\n    //important:这里的函数还是原函数，不能bind，不然后面查重就失效了，我们等到用的时候再bind也不迟\r\n    //并且分析函数还需要bind不同的东西\r\n    if(sE.indexOf(func) == -1) sE.push(func);\r\n    else console.warn(\"Duplicated function\", func, \"is blocked being added to data\", dataInstance);\r\n    return sE;\r\n}\r\nexport function removeExport(dataInstance :data, func :string | exportFunc) :shouldExportA{\r\n    const sE = dataInstance.shouldExports;\r\n    if(typeof func == \"string\"){\r\n        if(func == \"__addedByDynamic__\") utils.generic.E(\"func\", \"string | exportFunc\", func, \"this name is reserved\");\r\n        else if(func == \"\") console.warn(\"Operation blocked trying to remove ALL annoymous functions. Use the function itself for argument instead.\");\r\n        //注意这里会删除所有同名函数！\r\n        else for(let i = 0; i < sE.length; i++) if(sE[i].name === func) utils.generic.precisePop(sE[i], sE);\r\n    }\r\n    else if(typeof func == \"function\") utils.generic.precisePop(func, sE); //不是exportFunc没关系；precisePop已经处理了-1\r\n    else utils.generic.E(\"func\", \"string | exportFunc\", func);\r\n    return sE;\r\n}\r\nexport function isComputedProperty(data :data) :boolean{\r\n    return typeof data.value == \"function\";\r\n}\r\nexport function pushCache(){\r\n\r\n}","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\n/*export * as dno from \"./dno\";\r\nexport * as createDN from \"./createDN\";\r\n*/\r\nexport * as data from \"./data\";\r\nexport * as misc from \"./misc\";","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as localUtils from \"../utils/index\";\r\nexport function eliminateSymbol(property :string | Symbol) :string{\r\n    if(typeof property == \"symbol\") utils.generic.E(property.toString(), \"string\", property,  \"index of Dynamic.data must not be a Symbol\");\r\n    return property as string;\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\n/**一定会返回Element，void为报错hack*/\r\nexport function reduceToElement(input :Elementy) :Element | void{\r\n    if(input instanceof Element) return input;\r\n    else if(typeof input == \"string\"){\r\n        const el = utils.element.e(input);\r\n        if(el instanceof Node) return el as Element;\r\n        else utils.generic.E(\"rootNode\", \"string | Element\", input, \"rootNode should be a VALID #id selector\"); //fixed:现在不会走到new Element()那儿了\r\n    }\r\n    else utils.generic.E(\"rootNode\", \"string | Element\", input, \"rootNode should be a #id selector or an Element\");\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\nexport function e(s :string, scope? :Element | Document) :Node[] | Node{\r\n    if(scope === undefined || !(scope instanceof Element)) scope = document;\r\n        let a :NodeList = scope.querySelectorAll(s);\r\n        if(!a.length) return [];\r\n        //note:当一个页面存在相同ID元素时不会走这里，而会返回数组，因为说好了是querySelectorAll了并且本来就不应该有重复ID，不能怪我啊\r\n        if(a.length == 1 && s.match(/^.*#[^\\s]*$/)) return a[0];\r\n        else return Array.from(a);\r\n}\r\nexport function isDescendant(possibleDescendant :Element, possibleParent :Element) :boolean{\r\n    while(possibleDescendant.tagName != \"HTML\"){\r\n        possibleDescendant = possibleDescendant.parentNode! as Element;\r\n        if(possibleDescendant === possibleParent) return true; \r\n    }\r\n    return false;\r\n}\r\nexport function isInDocument(element :Element) :boolean{\r\n    return isDescendant(element, (e(\"html\") as Node[])[0] as Element);\r\n}\r\nexport function isChild(element :Element, target :Element) :boolean{\r\n    const children = target.childNodes;\r\n    for(let i = 0; i < children.length; i++) if(element === children[i]) return true;\r\n    return false;\r\n}\r\nexport function toHTML(HTML :string) :Node[]{\r\n    if(HTML === \"\" || typeof HTML != \"string\") utils.generic.E(\"HTML\", \"string\", HTML);\r\n    const ele = document.createElement(\"div\");\r\n    ele.innerHTML = HTML;\r\n    return getInnerNodes(ele);\r\n}\r\nexport function getInnerNodes(el :Node | Element) :Node[]{\r\n    var nodes :Node[] = [];\r\n    for(let i = 0; i < el.childNodes.length; i++) nodes[i] = el.childNodes[i].cloneNode(true);\r\n    return nodes;\r\n}\r\n//剥壳器\r\nexport function hatch(element :Element, remove? :boolean) :Node[]{\r\n    //note:Nodelist类型会实时同步造成不稳定的for循环，必须转换为Node[]！\r\n    const par = element.parentElement!, children :Node[] = Array.from(element.childNodes);\r\n    for(let i = 0; i < children.length; i++) par.insertBefore(children[i], element);\r\n    if(remove === true) element.remove();\r\n    return children;\r\n}\r\n//fixme:这个方法特异性太强了吧，能不能不要放在这里？\r\n//最终渲染方法，老祖宗求你别出bug\r\nexport function render(HTML :string | Element | HTMLCollection | Element[] | Node | NodeList | Node[], element :Element, insertAfter? :boolean, append? :boolean, disableDF? :boolean) :Node[]{\r\n    if(element.parentElement === null) utils.generic.EE(\"cannot render by '<html>' element, since it's root of document.\");\r\n    var html :Node[] = [];\r\n    if(typeof HTML == \"string\") html = toHTML(HTML);\r\n    else if(HTML instanceof Element || HTML instanceof Node) html[0] = HTML.cloneNode(true);\r\n    else if(HTML instanceof HTMLCollection || HTML instanceof NodeList) for(let i = 0; i < HTML.length; i++) html[i] = HTML.item(i)!.cloneNode(true);\r\n    else html = HTML;\r\n    const Rhtml = [...html].reverse(), parent = element.parentElement;\r\n    if(append === true) for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n    else if(append === false) for(let i = 0; i < Rhtml.length; i++) element.prepend(Rhtml[i]);\r\n    else if(insertAfter === true){\r\n        if(!element.nextSibling) for(let i = 0; i < Rhtml.length; i++) parent!.append(Rhtml[i]);\r\n        else for(let i = 0; i < Rhtml.length; i++) parent!.insertBefore(Rhtml[i], element.nextSibling);\r\n    }\r\n    else if(insertAfter === false) for(let i = 0; i < html.length; i++) parent!.insertBefore(html[i], element);\r\n    else for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n    //todo:加入作用域\r\n    return html;\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\nexport function randoma2Z(length :number) :string{ //52\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 52);\r\n        if(r > 25) s += String.fromCharCode(r + 71);\r\n        else s += String.fromCharCode(r + 65);\r\n    }\r\n    return s;\r\n}\r\nexport function randoma2z029(length :number) :string{ //36\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 36);\r\n        if(r < 10) s += r;\r\n        else s += String.fromCharCode(r + 87);\r\n    }\r\n    return s;\r\n}\r\nexport function precisePop<T>(ele :T, array :any[]) :T | null{\r\n    if(array.indexOf(ele) === -1) return null;\r\n    return array.splice(array.indexOf(ele), 1)[0];\r\n}\r\n//递归冻结对象\r\nexport function constantize(obj :anyObject) :void{\r\n    Object.freeze(obj);\r\n    for(let i = 0; i < Object.keys(obj).length; i++) if(typeof obj[Object.keys(obj)[i]] == \"object\") constantize(obj[Object.keys(obj)[i]]);\r\n}\r\nexport function E(argument :string, type? :string, value? :any, reason? :string) :never{\r\n    if(argument === undefined) throw new Error(\"An error occured.\");\r\n    else{\r\n        console.error(\"ERROR INFO: argument\", argument, \",type\", type, \",value\", value, \",reason\", reason); //为了拿到真正的value，其他类型toString后啥信息都没了\r\n        throw new Error(`Argument '${argument}' ${type ? `should be a(an) ${type}` : \"is invalid\"}${reason ? `, reason: ${reason}` : \"\"}${value ? `, got ${value}` : \"\"}.`);\r\n    }\r\n}\r\nexport function EE(message :any) :never{throw new Error(message);}\r\nexport function repeat<T>(item :T, count :number) :T[]{\r\n    if(typeof count != \"number\" || count < 1) utils.generic.E(\"count\", \"integer bigger than 0\", count);\r\n    return Array(count).fill(item, 0, count);\r\n}\r\nexport function noRepeat<T>(input :T[]) :T[]{\r\n    return Array.from(new Set(input)); //Set可是连IE11都支持的东西啊\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nexport * as generic from \"./generic\";\r\nexport * as element from \"./element\";\r\nexport * as arguments from \"./arguments\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport Dynamic from \"./dynamic\";\r\n//fixed:当作模块使用的时候不需要弄到全局作用域，所以将这个东西抽出来了\r\nObject.defineProperty(window, \"Dynamic\", {\r\n    configurable: false,\r\n    writable: false,\r\n    enumerable: true,\r\n    value: Dynamic\r\n});"],"names":[],"sourceRoot":""}